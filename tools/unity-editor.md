# Unity Editor — рекомендации по работе

Рекомендации по эффективной работе в Unity Editor при разработке игр с помощью ИИ-агента.

---

## Ключевые окна

| Окно | Назначение | Горячая клавиша |
|------|------------|-----------------|
| **Scene** | Визуальное редактирование сцены | — |
| **Game** | Предпросмотр игры (Play Mode) | — |
| **Hierarchy** | Дерево объектов сцены | — |
| **Inspector** | Свойства выбранного объекта | — |
| **Project** | Файлы проекта (Assets/) | — |
| **Console** | Логи, ошибки, предупреждения | Ctrl+Shift+C |
| **Profiler** | Анализ производительности | Ctrl+7 |
| **Animation** | Анимации и Animator | Ctrl+6 |

---

## Рекомендации по настройке проекта

### Первая настройка

- **Структура контента (обязательно):** создать `Assets/_source/` и хранить **всё созданное агентом/пользователем** только там.  
  Причина: папка `Assets/` почти всегда захламляется импортированными пакетами/ассетами, а `_source` даёт стабильные пути и чистую навигацию.

  Рекомендуемый минимум:

  ```
  Assets/
    _source/
      Scripts/
      Editor/
      Data/        # ScriptableObject ассеты
      Prefabs/
      Scenes/
      Materials/
      Textures/
      Audio/
      UI/
      Resources/   # Unity Resources (если осознанно нужно)
  ```

- **Player Settings** (Edit → Project Settings → Player):
  - Company Name, Product Name.
  - Разрешение и полноэкранный режим.
  - Целевая платформа.
- **Quality Settings** — уровни качества.
- **Physics / Physics 2D** — настройки физики (гравитация, Layer Collision Matrix).
- **Input System** — если используется новый Input System, установить пакет и переключить Active Input Handling в Player Settings.
- **Tags & Layers** — добавить теги и слои для фильтрации коллизий.

### Структура сцен

| Сцена | Содержимое |
|-------|------------|
| **MainMenu** | UI меню, фон, кнопки |
| **Gameplay** | Игровой мир, персонажи, камера, HUD |
| **Loading** | Экран загрузки (опционально) |
| **Settings** | Экран настроек (или как overlay в Gameplay) |

Добавить все сцены в **Build Settings** (File → Build Settings → Add Open Scenes).

---

## Использование по режимам

### Прототип

- **Минимальная работа в редакторе:**
  - Одна сцена.
  - Объекты создавать через код или MCP.
  - Play Mode → проверить → остановить.
  - Настройки через SO → менять в Inspector.
- **Не трогать:** Quality Settings, Profiler, сложные настройки.
- **Console:** смотреть только при ошибках.

### Стандартный

- **Стандартная работа:**
  - 2–3 сцены, настроенные в Build Settings.
  - Префабы для повторяемых объектов.
  - Inspector для тонкой настройки SO ассетов.
  - Console — после каждой фичи.
  - **Tags & Layers** — настроить для коллизий.
- **Рекомендуется:** организовать Hierarchy с пустыми объектами-контейнерами (`--- Environment ---`, `--- UI ---`, `--- Managers ---`).

### Быстрый

- **Практичная работа:**
  - Объекты и компоненты через MCP или код (что быстрее).
  - Play Mode — проверять периодически, не после каждой мелочи.
  - Префабы — создавать когда объект повторяется 3+ раз.
  - Console — мониторить в фоне.
- **Batch-подход:** несколько изменений → одна проверка в Play Mode.

### Профи

- **Полная работа в редакторе:**
  - Все сцены настроены, в Build Settings.
  - Prefix-организация в Hierarchy.
  - **Profiler** — использовать для анализа производительности:
    - CPU: Update-heavy скрипты.
    - Memory: утечки, GC alloc.
    - Rendering: draw calls, batching.
  - **Frame Debugger** — анализ рендеринга.
  - **Physics Debugger** — коллизии и триггеры.
  - **Custom Editor Scripts** — при необходимости для кастомного инспектора SO.
  - Console — Warnings тоже исправлять (не только ошибки).

---

## Полезные практики

### Организация Hierarchy

```
--- Managers ---
  GameManager
  AudioManager
  UIManager
--- Environment ---
  Ground
  Platform_1
  Platform_2
--- Characters ---
  Player
  Enemy_1
--- UI ---
  Canvas
    MainMenu
    HUD
    PauseMenu
--- Cameras ---
  Main Camera
```

### Горячие клавиши (must-know)

| Действие | Клавиша |
|----------|---------|
| Play / Stop | Ctrl+P |
| Pause | Ctrl+Shift+P |
| Step | Ctrl+Alt+P |
| Дублировать объект | Ctrl+D |
| Удалить объект | Delete |
| Фокус на объект | F (в Scene view) |
| Переименовать | F2 |
| Refresh Assets | Ctrl+R |
| Сохранить сцену | Ctrl+S |

### Play Mode Tips

- **Изменения в Play Mode НЕ сохраняются!** Настраивать SO в Play Mode можно (для теста), но значения сбросятся. Если нашли хорошие значения — записать и применить после выхода из Play Mode.
- Использовать `[Header]` и `[Tooltip]` в SO для удобства настройки в Inspector.
- Использовать `[Range(min, max)]` для ползунков.

---

## Чеклист при завершении этапа

- [ ] Console чист (нет ошибок, минимум предупреждений).
- [ ] Play Mode работает (игра не крашится).
- [ ] SO ассеты настроены (значения не по умолчанию).
- [ ] Сцены сохранены (Ctrl+S).
- [ ] Все сцены в Build Settings.
- [ ] Скриншот сделан (если режим требует).
